.wp-block-gallery,
.blocks-gallery-grid {
	display: flex;
	flex-wrap: wrap;
	width: 100%;
	padding: 0;
	list-style: none;
}

.wp-block-gallery {
	margin-right: -1px;
	margin-left: -1px;

	@for $i from 1 through 4 {
		&.columns-#{$i} {
			.blocks-gallery-item {
				flex: 0 0 decimal-floor( 1 / $i , 4) * 100#{"%"};
				max-width: decimal-floor( 1 / $i , 4) * 100#{"%"};
			}
		}
	}

	&.is-cropped {
		@supports ( object-fit: cover ) {
			.blocks-gallery-item {
				display: flex;
				flex-direction: column;
			}
			figure {
				flex-grow: 1;
				position: relative;
			}
			figcaption {
				position: absolute;
				right: 0;
				bottom: 0;
				left: 0;
				z-index: 2;
				background: rgba(#000000, 0.4);
				color: #ffffff;
			}
			img {
				width: 100%;
				height: 100%;

				object-fit: cover;
			}
		}
	}

	&.alignfull {
		padding-right: 0;
		padding-left: 0;
	}
}

.blocks-gallery-grid {
	margin: 0;
}

.blocks-gallery-item {
	border: 1px solid transparent;
}

.blocks-gallery-item__caption {
	font-size: 0.8em;
}