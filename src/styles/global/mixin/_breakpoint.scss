@use "sass:map";
@use "../variable/content";

$breakpoints_setting: (
	sm: 600px,
	md: 769px,
	lg: 1025px,
	mobile: 640px,
	tablet: 768px,
	desktop: 1024px,
	wide: 1200px,
);

/**
 * モバイルのみ
 */
@mixin media-only-mobile() {
	@include media-breakpoint-down(mobile) {
		@content;
	}
}

/**
 * モバイルサイズ以上（タブレットサイズ〜）
 */
@mixin media-up-mobile() {
	@include media-breakpoint(mobile) {
		@content;
	}
}

/**
 * タブレットサイズ以上（iPad縦サイズ〜）
 */
@mixin media-up-tablet() {
	@include media-breakpoint(tablet) {
		@content;
	}
}
/**
 * タブレットサイズ以下（iPad縦サイズまで）
 */
@mixin media-under-tablet() {
	@include media-breakpoint-down(tablet, 0) {
		@content;
	}
}

/**
 * デスクトップサイズ以上（iPad Pro縦サイズ〜）
 */
@mixin media-up-desktop() {
	@include media-breakpoint(desktop) {
		@content;
	}
}
/**
 * サイドバー表示サイズ
 */
@mixin media-up-show-sidebar() {
	@include media-up-desktop() {
		@content;
	}
}

/**
 * でかいサイズ以上 1200px~
 */
@mixin media-up-wide() {
	@include media-breakpoint(wide) {
		@content;
	}
}

@mixin media-breakpoint($name, $breakpoints: $breakpoints_setting) {
	$breakpoint: map.get($breakpoints, $name);
	@if $breakpoint {
		@media (min-width: $breakpoint) {
			@content;
		}
	} @else {
		@warn "`#{$name}` is not found. "
    + "Please make sure it is defined in `$breakpoints-setting` map.";
	}
}

@mixin media-breakpoint-down(
	$name,
	$gain: 0.02px,
	$breakpoints: $breakpoints_setting
) {
	$breakpoint: map.get($breakpoints, $name);
	@if $breakpoint {
		@media (max-width: ($breakpoint - $gain)) {
			@content;
		}
	} @else {
		@warn "`#{$name}` is not found. "
    + "Please make sure it is defined in `$breakpoints-setting` map.";
	}
}

@mixin media-breakpoint-between(
	$up,
	$down,
	$breakpoints: $breakpoints_setting
) {
	$breakpoint_min: map.get($breakpoints, $up);
	$breakpoint_max: map.get($breakpoints, $down);
	@if $breakpoint_min and $breakpoint_max {
		@media (min-width: $breakpoint_min) AND (max-width: ($breakpoint_max - 0.02px)) {
			@content;
		}
	} @else {
		@warn "`#{$up} or #{$down}` is not found. "
    + "Please make sure it is defined in `$breakpoints-setting` map.";
	}
}
